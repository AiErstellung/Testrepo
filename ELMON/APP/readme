# Elmon Video Reviewer

A private, local Android app for two reviewers to stream S3-hosted videos in a vertical swipe feed and record why they rejected a clip.

## Key Features
- Jetpack Compose UI with a TikTok-style vertical pager.
- ExoPlayer (Media3) stream playback from IONOS Object Storage.
- Room database keeps track of like/dislike decisions per video (feedback is stored too).
- Videos already rated are removed from the feed and never shown again in the same session.
- Disliking a video opens a short comment dialog; the text is written to `bad/feedback/<videoId>.json` for later exports.

## Setup
1. Clone the repository and open it in Android Studio.
2. Define your IONOS Object Storage settings in `ELMON/APP/local.properties` (that file is local-only and must not hold credentials in Git). Add:
   ```
   ELMON_STORAGE_ENDPOINT=https://s3.eu-central-3.ionoscloud.com
   ELMON_STORAGE_BUCKET=buckybucket
   ELMON_STORAGE_REGION=eu-central-3
   ELMON_STORAGE_ACCESS_KEY=YOUR_ACCESS_KEY
   ELMON_STORAGE_SECRET_KEY=YOUR_SECRET_KEY
   ELMON_STORAGE_SESSION_TOKEN=YOUR_SESSION_TOKEN   # optional for temporary credentials
   ```
3. Upload `pending/videos.json` to `pending/videos.json` inside the bucket. Each entry should contain `id`, `title`, `url` (preferably the public S3 URL). The app now keeps every clipâ€™s `liked`/`feedback` state in this file (null/absent = pending); it will automatically append those fields so you do not need a local database.
4. Build & install via `./gradlew installDebug` or run directly from Android Studio.

## Storage workflow
- The app always downloads `pending/videos.json` from the bucket, filters out entries whose `liked` flag is already set, and renders the remaining clips.
- When you rate a video, the app updates the corresponding entry in `pending/videos.json` with `liked: true`/`false` and, for dislikes, a `feedback` string. That keeps the stream state in one place instead of a local database.
- Keep `pending/videos.json` in sync with the bucket (remove entries once you no longer need the clip) so the feed never re-shows already-reviewed clips, and let the app handle that metadata automatically.
